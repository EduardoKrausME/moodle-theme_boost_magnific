define(["exports","./util"],function(j,i){function p(b){return b&&b.__esModule?b:{"default":b}}function o(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(j,"__esModule",{value:!0});var n=p(i),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol?"symbol":typeof b},l=function(){function b(f,e){for(var h=0;h<e.length;h++){var g=e[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(a,f,e){return f&&b(a.prototype,f),e&&b(a,e),a}}(),k=function(C){var B="collapse",A="4.0.0-alpha.4",z="bs.collapse",y="."+z,x=".data-api",w=C.fn[B],v=600,u={toggle:!0,parent:""},t={toggle:"boolean",parent:"string"},g={SHOW:"show"+y,SHOWN:"shown"+y,HIDE:"hide"+y,HIDDEN:"hidden"+y,CLICK_DATA_API:"click"+y+x},f={IN:"in",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},e={WIDTH:"width",HEIGHT:"height"},d={ACTIVES:".panel > .in, .panel > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},D=function(){function a(h,q){o(this,a),this._isTransitioning=!1,this._element=h,this._config=this._getConfig(q),this._triggerArray=C.makeArray(C('[data-toggle="collapse"][href="#'+h.id+'"],'+('[data-toggle="collapse"][data-target="#'+h.id+'"]'))),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return l(a,[{key:"toggle",value:function(){C(this._element).hasClass(f.IN)?this.hide():this.show()}},{key:"show",value:function(){var q=this;if(!this._isTransitioning&&!C(this._element).hasClass(f.IN)){var H=void 0,G=void 0;if(this._parent&&(H=C.makeArray(C(d.ACTIVES)),H.length||(H=null)),!(H&&(G=C(H).data(z),G&&G._isTransitioning))){var F=C.Event(g.SHOW);if(C(this._element).trigger(F),!F.isDefaultPrevented()){H&&(a._jQueryInterface.call(C(H),"hide"),G||C(H).data(z,null));var E=this._getDimension();C(this._element).removeClass(f.COLLAPSE).addClass(f.COLLAPSING),this._element.style[E]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&C(this._triggerArray).removeClass(f.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var s=function(){C(q._element).removeClass(f.COLLAPSING).addClass(f.COLLAPSE).addClass(f.IN),q._element.style[E]="",q.setTransitioning(!1),C(q._element).trigger(g.SHOWN)};if(!n["default"].supportsTransitionEnd()){return void s()}var r=E[0].toUpperCase()+E.slice(1),h="scroll"+r;C(this._element).one(n["default"].TRANSITION_END,s).emulateTransitionEnd(v),this._element.style[E]=this._element[h]+"px"}}}}},{key:"hide",value:function(){var h=this;if(!this._isTransitioning&&C(this._element).hasClass(f.IN)){var E=C.Event(g.HIDE);if(C(this._element).trigger(E),!E.isDefaultPrevented()){var s=this._getDimension(),r=s===e.WIDTH?"offsetWidth":"offsetHeight";this._element.style[s]=this._element[r]+"px",n["default"].reflow(this._element),C(this._element).addClass(f.COLLAPSING).removeClass(f.COLLAPSE).removeClass(f.IN),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&C(this._triggerArray).addClass(f.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var q=function(){h.setTransitioning(!1),C(h._element).removeClass(f.COLLAPSING).addClass(f.COLLAPSE).trigger(g.HIDDEN)};return this._element.style[s]=0,n["default"].supportsTransitionEnd()?void C(this._element).one(n["default"].TRANSITION_END,q).emulateTransitionEnd(v):void q()}}}},{key:"setTransitioning",value:function(b){this._isTransitioning=b}},{key:"dispose",value:function(){C.removeData(this._element,z),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}},{key:"_getConfig",value:function(b){return b=C.extend({},u,b),b.toggle=Boolean(b.toggle),n["default"].typeCheckConfig(B,b,t),b}},{key:"_getDimension",value:function(){var c=C(this._element).hasClass(e.WIDTH);return c?e.WIDTH:e.HEIGHT}},{key:"_getParent",value:function(){var h=this,r=C(this._config.parent)[0],q='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return C(r).find(q).each(function(b,s){h._addAriaAndCollapsedClass(a._getTargetFromElement(s),[s])}),r}},{key:"_addAriaAndCollapsedClass",value:function(h,r){if(h){var q=C(h).hasClass(f.IN);h.setAttribute("aria-expanded",q),r.length&&C(r).toggleClass(f.COLLAPSED,!q).attr("aria-expanded",q)}}}],[{key:"_getTargetFromElement",value:function(h){var q=n["default"].getSelectorFromElement(h);return q?C(q)[0]:null}},{key:"_jQueryInterface",value:function(c){return this.each(function(){var q=C(this),h=q.data(z),b=C.extend({},u,q.data(),"object"===("undefined"==typeof c?"undefined":m(c))&&c);if(!h&&b.toggle&&/show|hide/.test(c)&&(b.toggle=!1),h||(h=new a(this,b),q.data(z,h)),"string"==typeof c){if(void 0===h[c]){throw new Error('No method named "'+c+'"')}h[c]()}})}},{key:"VERSION",get:function(){return A}},{key:"Default",get:function(){return u}}]),a}();return C(document).on(g.CLICK_DATA_API,d.DATA_TOGGLE,function(a){a.preventDefault();var r=D._getTargetFromElement(this),q=C(r).data(z),h=q?"toggle":C(this).data();D._jQueryInterface.call(C(r),h)}),C.fn[B]=D._jQueryInterface,C.fn[B].Constructor=D,C.fn[B].noConflict=function(){return C.fn[B]=w,D._jQueryInterface},D}(jQuery);j["default"]=k});