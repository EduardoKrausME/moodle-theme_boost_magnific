!function(d,c){"function"==typeof define&&define.amd?define(c):"object"==typeof exports?module.exports=c(require,exports,module):d.Tether=c()}(this,function(aU,aT,aS){function aR(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function aQ(h){var e=h.getBoundingClientRect(),l={};for(var k in e){l[k]=e[k]}if(h.ownerDocument!==document){var j=h.ownerDocument.defaultView.frameElement;if(j){var i=aQ(j);l.top+=i.top,l.bottom+=i.top,l.left+=i.left,l.right+=i.left}}return l}function aP(v){var u=getComputedStyle(v)||{},t=u.position,s=[];if("fixed"===t){return[v]}for(var r=v;(r=r.parentNode)&&r&&1===r.nodeType;){var q=void 0;try{q=getComputedStyle(r)}catch(p){}if("undefined"==typeof q||null===q){return s.push(r),s}var o=q,n=o.overflow,m=o.overflowX,l=o.overflowY;/(auto|scroll)/.test(n+l+m)&&("absolute"!==t||["relative","absolute","fixed"].indexOf(q.position)>=0)&&s.push(r)}return s.push(v.ownerDocument.body),v.ownerDocument!==document&&s.push(v.ownerDocument.defaultView),s}function aO(){av&&document.body.removeChild(av),av=null}function aN(g){var e=void 0;g===document?(e=document,g=document.documentElement):e=g.ownerDocument;var j=e.documentElement,i=aQ(g),h=ar();return i.top-=h.top,i.left-=h.left,"undefined"==typeof i.width&&(i.width=document.body.scrollWidth-i.left-i.right),"undefined"==typeof i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-j.clientTop,i.left=i.left-j.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function aM(b){return b.offsetParent||document.documentElement}function aL(){var g=document.createElement("div");g.style.width="100%",g.style.height="200px";var f=document.createElement("div");aK(f.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),f.appendChild(g),document.body.appendChild(f);var j=g.offsetWidth;f.style.overflow="scroll";var i=g.offsetWidth;j===i&&(i=f.clientWidth),document.body.removeChild(f);var h=j-i;return{width:h,height:h}}function aK(){var d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=[];return Array.prototype.push.apply(c,arguments),c.slice(1).forEach(function(a){if(a){for(var e in a){({}).hasOwnProperty.call(a,e)&&(d[e]=a[e])}}}),d}function aJ(f,e){if("undefined"!=typeof f.classList){e.split(" ").forEach(function(a){a.trim()&&f.classList.remove(a)})}else{var h=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),g=aG(f).replace(h," ");aF(f,g)}}function aI(e,d){if("undefined"!=typeof e.classList){d.split(" ").forEach(function(a){a.trim()&&e.classList.add(a)})}else{aJ(e,d);var f=aG(e)+(" "+d);aF(e,f)}}function aH(e,d){if("undefined"!=typeof e.classList){return e.classList.contains(d)}var f=aG(e);return new RegExp("(^| )"+d+"( |$)","gi").test(f)}function aG(b){return b.className instanceof b.ownerDocument.defaultView.SVGAnimatedString?b.className.baseVal:b.className}function aF(d,c){d.setAttribute("class",c)}function aE(e,d,f){f.forEach(function(a){d.indexOf(a)===-1&&aH(e,a)&&aJ(e,a)}),d.forEach(function(a){aH(e,a)||aI(e,a)})}function aR(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function aD(d,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}function aC(e,d){var f=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+f>=d&&d>=e-f}function aB(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function aA(){for(var f={top:0,left:0},e=arguments.length,h=Array(e),g=0;g<e;g++){h[g]=arguments[g]}return h.forEach(function(a){var j=a.top,i=a.left;"string"==typeof j&&(j=parseFloat(j,10)),"string"==typeof i&&(i=parseFloat(i,10)),f.top+=j,f.left+=i}),f}function az(d,c){return"string"==typeof d.left&&d.left.indexOf("%")!==-1&&(d.left=parseFloat(d.left,10)/100*c.width),"string"==typeof d.top&&d.top.indexOf("%")!==-1&&(d.top=parseFloat(d.top,10)/100*c.height),d}function ay(d,c){return"scrollParent"===c?c=d.scrollParents[0]:"window"===c&&(c=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),c===document&&(c=c.documentElement),"undefined"!=typeof c.nodeType&&!function(){var b=c,j=aN(c),i=j,h=getComputedStyle(c);if(c=[i.left,i.top,j.width+i.left,j.height+i.top],b.ownerDocument!==document){var g=b.ownerDocument.defaultView;c[0]+=g.pageXOffset,c[1]+=g.pageYOffset,c[2]+=g.pageXOffset,c[3]+=g.pageYOffset}X.forEach(function(e,f){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?c[f]+=parseFloat(h["border"+e+"Width"]):c[f]-=parseFloat(h["border"+e+"Width"])})}(),c}var ax=function(){function b(f,e){for(var h=0;h<e.length;h++){var g=e[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(a,f,e){return f&&b(a.prototype,f),e&&b(a,e),a}}(),aw=void 0;"undefined"==typeof aw&&(aw={modules:[]});var av=null,au=function(){var b=0;return function(){return ++b}}(),at={},ar=function(){var d=av;d||(d=document.createElement("div"),d.setAttribute("data-tether-id",au()),aK(d.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(d),av=d);var c=d.getAttribute("data-tether-id");return"undefined"==typeof at[c]&&(at[c]=aQ(d),ap(function(){delete at[c]})),at[c]},aq=[],ap=function(b){aq.push(b)},ao=function(){for(var b=void 0;b=aq.pop();){b()}},an=function(){function b(){aR(this,b)}return ax(b,[{key:"on",value:function(f,e,h){var g=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[f]&&(this.bindings[f]=[]),this.bindings[f].push({handler:e,ctx:h,once:g})}},{key:"once",value:function(e,d,f){this.on(e,d,f,!0)}},{key:"off",value:function(e,d){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e]){if("undefined"==typeof d){delete this.bindings[e]}else{for(var f=0;f<this.bindings[e].length;){this.bindings[e][f].handler===d?this.bindings[e].splice(f,1):++f}}}}},{key:"trigger",value:function(t){if("undefined"!=typeof this.bindings&&this.bindings[t]){for(var s=0,r=arguments.length,q=Array(r>1?r-1:0),p=1;p<r;p++){q[p-1]=arguments[p]}for(;s<this.bindings[t].length;){var o=this.bindings[t][s],n=o.handler,m=o.ctx,l=o.once,k=m;"undefined"==typeof k&&(k=this),n.apply(k,q),l?this.bindings[t].splice(s,1):++s}}}}]),b}();aw.Utils={getActualBoundingClientRect:aQ,getScrollParents:aP,getBounds:aN,getOffsetParent:aM,extend:aK,addClass:aI,removeClass:aJ,hasClass:aH,updateClasses:aE,defer:ap,flush:ao,uniqueId:au,Evented:an,getScrollBarSize:aL,removeUtilElements:aO};var am=function(){function b(r,q){var p=[],o=!0,n=!1,m=void 0;try{for(var l,k=r[Symbol.iterator]();!(o=(l=k.next()).done)&&(p.push(l.value),!q||p.length!==q);o=!0){}}catch(j){n=!0,m=j}finally{try{!o&&k["return"]&&k["return"]()}finally{if(n){throw m}}}return p}return function(a,d){if(Array.isArray(a)){return a}if(Symbol.iterator in Object(a)){return b(a,d)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ax=function(){function b(f,e){for(var h=0;h<e.length;h++){var g=e[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(a,f,e){return f&&b(a.prototype,f),e&&b(a,e),a}}(),al=function(t,s,r){for(var q=!0;q;){var p=t,o=s,n=r;q=!1,null===p&&(p=Function.prototype);var m=Object.getOwnPropertyDescriptor(p,o);if(void 0!==m){if("value" in m){return m.value}var l=m.get;if(void 0===l){return}return l.call(n)}var k=Object.getPrototypeOf(p);if(null===k){return}t=k,s=o,r=n,q=!0,m=k=void 0}};if("undefined"==typeof aw){throw new Error("You must include the utils.js file before tether.js")}var ak=aw.Utils,aP=ak.getScrollParents,aN=ak.getBounds,aM=ak.getOffsetParent,aK=ak.extend,aI=ak.addClass,aJ=ak.removeClass,aE=ak.updateClasses,ap=ak.defer,ao=ak.flush,aL=ak.getScrollBarSize,aO=ak.removeUtilElements,aj=function(){if("undefined"==typeof document){return""}for(var f=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],h=0;h<e.length;++h){var g=e[h];if(void 0!==f.style[g]){return g}}}(),ai=[],ah=function(){ai.forEach(function(b){b.position(!1)}),ao()};!function(){var g=null,f=null,j=null,i=function h(){return"undefined"!=typeof f&&f>16?(f=Math.min(f-16,250),void (j=setTimeout(h,250))):void ("undefined"!=typeof g&&aB()-g<10||(null!=j&&(clearTimeout(j),j=null),g=aB(),ah(),f=aB()-g))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(b){window.addEventListener(b,i)})}();var ag={center:"center",left:"right",right:"left"},af={middle:"middle",top:"bottom",bottom:"top"},ae={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},ad=function(f,e){var h=f.left,g=f.top;return"auto"===h&&(h=ag[e.left]),"auto"===g&&(g=af[e.top]),{left:h,top:g}},ac=function(e){var d=e.left,f=e.top;return"undefined"!=typeof ae[e.left]&&(d=ae[e.left]),"undefined"!=typeof ae[e.top]&&(f=ae[e.top]),{left:d,top:f}},ab=function(g){var f=g.split(" "),j=am(f,2),i=j[0],h=j[1];return{top:i,left:h}},aa=ab,Z=function(d){function c(b){var e=this;aR(this,c),al(Object.getPrototypeOf(c.prototype),"constructor",this).call(this),this.position=this.position.bind(this),ai.push(this),this.history=[],this.setOptions(b,!1),aw.modules.forEach(function(f){"undefined"!=typeof f.initialize&&f.initialize.call(e)}),this.position()}return aD(c,d),ax(c,[{key:"getClass",value:function(){var f=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return"undefined"!=typeof e&&e[f]?this.options.classes[f]:this.options.classPrefix?this.options.classPrefix+"-"+f:f}},{key:"setOptions",value:function(j){var f=this,p=arguments.length<=1||void 0===arguments[1]||arguments[1],o={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=aK(o,j);var n=this.options,m=n.element,l=n.target,k=n.targetModifier;if(this.element=m,this.target=l,this.targetModifier=k,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(b){if("undefined"==typeof f[b]){throw new Error("Tether Error: Both element and target must be defined")}"undefined"!=typeof f[b].jquery?f[b]=f[b][0]:"string"==typeof f[b]&&(f[b]=document.querySelector(f[b]))}),aI(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&aI(this.target,this.getClass("target")),!this.options.attachment){throw new Error("Tether Error: You must provide an attachment")}this.targetAttachment=aa(this.options.targetAttachment),this.attachment=aa(this.options.attachment),this.offset=ab(this.options.offset),this.targetOffset=ab(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=aP(this.target),this.options.enabled!==!1&&this.enable(p)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier){return aN(this.target)}if("visible"===this.targetModifier){if(this.target===document.body){return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}}var r=aN(this.target),q={height:r.height,width:r.width,top:r.top,left:r.left};return q.height=Math.min(q.height,r.height-(pageYOffset-r.top)),q.height=Math.min(q.height,r.height-(r.top+r.height-(pageYOffset+innerHeight))),q.height=Math.min(innerHeight,q.height),q.height-=2,q.width=Math.min(q.width,r.width-(pageXOffset-r.left)),q.width=Math.min(q.width,r.width-(r.left+r.width-(pageXOffset+innerWidth))),q.width=Math.min(innerWidth,q.width),q.width-=2,q.top<pageYOffset&&(q.top=pageYOffset),q.left<pageXOffset&&(q.left=pageXOffset),q}if("scroll-handle"===this.targetModifier){var r=void 0,p=this.target;p===document.body?(p=document.documentElement,r={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):r=aN(p);var o=getComputedStyle(p),n=p.scrollWidth>p.clientWidth||[o.overflow,o.overflowX].indexOf("scroll")>=0||this.target!==document.body,m=0;n&&(m=15);var l=r.height-parseFloat(o.borderTopWidth)-parseFloat(o.borderBottomWidth)-m,q={width:15,height:0.975*l*(l/p.scrollHeight),left:r.left+r.width-parseFloat(o.borderLeftWidth)-15},k=0;l<408&&this.target===document.body&&(k=-0.00011*Math.pow(l,2)-0.00727*l+22.58),this.target!==document.body&&(q.height=Math.max(q.height,24));var h=this.target.scrollTop/(p.scrollHeight-l);return q.top=h*(l-q.height-k)+r.top+parseFloat(o.borderTopWidth),this.target===document.body&&(q.height=Math.max(q.height,24)),q}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(f,e){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[f]&&(this._cache[f]=e.call(this)),this._cache[f]}},{key:"enable",value:function(){var f=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&aI(this.target,this.getClass("enabled")),aI(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(a){a!==f.target.ownerDocument&&a.addEventListener("scroll",f.position)}),e&&this.position()}},{key:"disable",value:function(){var b=this;aJ(this.target,this.getClass("enabled")),aJ(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(a){a.removeEventListener("scroll",b.position)})}},{key:"destroy",value:function(){var b=this;this.disable(),ai.forEach(function(a,e){a===b&&ai.splice(e,1)}),0===ai.length&&aO()}},{key:"updateAttachClasses",value:function(h,g){var l=this;h=h||this.attachment,g=g||this.targetAttachment;var k=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var j=this._addAttachClasses;h.top&&j.push(this.getClass("element-attached")+"-"+h.top),h.left&&j.push(this.getClass("element-attached")+"-"+h.left),g.top&&j.push(this.getClass("target-attached")+"-"+g.top),g.left&&j.push(this.getClass("target-attached")+"-"+g.left);var i=[];k.forEach(function(b){i.push(l.getClass("element-attached")+"-"+b),i.push(l.getClass("target-attached")+"-"+b)}),ap(function(){"undefined"!=typeof l._addAttachClasses&&(aE(l.element,l._addAttachClasses,i),l.options.addTargetClasses!==!1&&aE(l.target,l._addAttachClasses,i),delete l._addAttachClasses)})}},{key:"position",value:function(){var R=this,Q=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var P=ad(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,P);var O=this.cache("element-bounds",function(){return aN(R.element)}),N=O.width,M=O.height;if(0===N&&0===M&&"undefined"!=typeof this.lastSize){var L=this.lastSize;N=L.width,M=L.height}else{this.lastSize={width:N,height:M}}var K=this.cache("target-bounds",function(){return R.getTargetBounds()}),J=K,I=az(ac(this.attachment),{width:N,height:M}),H=az(ac(P),J),G=az(this.offset,{width:N,height:M}),F=az(this.targetOffset,J);I=aA(I,G),H=aA(H,F);for(var D=K.left+H.left-I.left,y=K.top+H.top-I.top,v=0;v<aw.modules.length;++v){var u=aw.modules[v],j=u.position.call(this,{left:D,top:y,targetAttachment:P,targetPos:K,elementPos:O,offset:I,targetOffset:H,manualOffset:G,manualTargetOffset:F,scrollbarSize:C,attachment:this.attachment});if(j===!1){return !1}"undefined"!=typeof j&&"object"==typeof j&&(y=j.top,D=j.left)}var i={page:{top:y,left:D},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-M+innerHeight,left:D-pageXOffset,right:pageXOffset-D-N+innerWidth}},h=this.target.ownerDocument,E=h.defaultView,C=void 0;return h.body.scrollWidth>E.innerWidth&&(C=this.cache("scrollbar-size",aL),i.viewport.bottom-=C.height),h.body.scrollHeight>E.innerHeight&&(C=this.cache("scrollbar-size",aL),i.viewport.right-=C.width),["","static"].indexOf(h.body.style.position)!==-1&&["","static"].indexOf(h.body.parentElement.style.position)!==-1||(i.page.bottom=h.body.scrollHeight-y-M,i.page.right=h.body.scrollWidth-D-N),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var a=R.cache("target-offsetparent",function(){return aM(R.target)}),p=R.cache("target-offsetparent-bounds",function(){return aN(a)}),o=getComputedStyle(a),n=p,m={};if(["Top","Left","Bottom","Right"].forEach(function(b){m[b.toLowerCase()]=parseFloat(o["border"+b+"Width"])}),p.right=h.body.scrollWidth-p.left-n.width+m.right,p.bottom=h.body.scrollHeight-p.top-n.height+m.bottom,i.page.top>=p.top+m.top&&i.page.bottom>=p.bottom&&i.page.left>=p.left+m.left&&i.page.right>=p.right){var l=a.scrollTop,k=a.scrollLeft;i.offset={top:i.page.top-p.top+l-m.top,left:i.page.left-p.left+k-m.left}}}(),this.move(i),this.history.unshift(i),this.history.length>3&&this.history.pop(),Q&&ao(),!0}}},{key:"move",value:function(G){var F=this;if("undefined"!=typeof this.element.parentNode){var E={};for(var D in G){E[D]={};for(var C in G[D]){for(var B=!1,A=0;A<this.history.length;++A){var z=this.history[A];if("undefined"!=typeof z[D]&&!aC(z[D][C],G[D][C])){B=!0;break}}B||(E[D][C]=!0)}}var y={top:"",left:"",right:"",bottom:""},x=function(b,n){var m="undefined"!=typeof F.options.optimizations,l=m?F.options.optimizations.gpu:null;if(l!==!1){var j=void 0,h=void 0;b.top?(y.top=0,j=n.top):(y.bottom=0,j=-n.bottom),b.left?(y.left=0,h=n.left):(y.right=0,h=-n.right),y[aj]="translateX("+Math.round(h)+"px) translateY("+Math.round(j)+"px)","msTransform"!==aj&&(y[aj]+=" translateZ(0)")}else{b.top?y.top=n.top+"px":y.bottom=n.bottom+"px",b.left?y.left=n.left+"px":y.right=n.right+"px"}},w=!1;if((E.page.top||E.page.bottom)&&(E.page.left||E.page.right)?(y.position="absolute",x(E.page,G.page)):(E.viewport.top||E.viewport.bottom)&&(E.viewport.left||E.viewport.right)?(y.position="fixed",x(E.viewport,G.viewport)):"undefined"!=typeof E.offset&&E.offset.top&&E.offset.left?!function(){y.position="absolute";var a=F.cache("target-offsetparent",function(){return aM(F.target)});aM(F.element)!==a&&ap(function(){F.element.parentNode.removeChild(F.element),a.appendChild(F.element)}),x(E.offset,G.offset),w=!0}():(y.position="absolute",x({top:!0,left:!0},G.page)),!w){for(var v=!0,u=this.element.parentNode;u&&1===u.nodeType&&"BODY"!==u.tagName;){if("static"!==getComputedStyle(u).position){v=!1;break}u=u.parentNode}v||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var s={},k=!1;for(var C in y){var i=y[C],H=this.element.style[C];H!==i&&(k=!0,s[C]=i)}k&&ap(function(){aK(F.element.style,s)})}}}]),c}(an);Z.modules=[],aw.position=ah;var Y=aK(Z,aw),am=function(){function b(r,q){var p=[],o=!0,n=!1,m=void 0;try{for(var l,k=r[Symbol.iterator]();!(o=(l=k.next()).done)&&(p.push(l.value),!q||p.length!==q);o=!0){}}catch(j){n=!0,m=j}finally{try{!o&&k["return"]&&k["return"]()}finally{if(n){throw m}}}return p}return function(a,d){if(Array.isArray(a)){return a}if(Symbol.iterator in Object(a)){return b(a,d)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ak=aw.Utils,aN=ak.getBounds,aK=ak.extend,aE=ak.updateClasses,ap=ak.defer,X=["left","top","right","bottom"];aw.modules.push({position:function(E){var D=this,C=E.top,B=E.left,A=E.targetAttachment;if(!this.options.constraints){return !0}var z=this.cache("element-bounds",function(){return aN(D.element)}),y=z.height,x=z.width;if(0===x&&0===y&&"undefined"!=typeof this.lastSize){var w=this.lastSize;x=w.width,y=w.height}var v=this.cache("target-bounds",function(){return D.getTargetBounds()}),u=v.height,t=v.width,q=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var d=e.outOfBoundsClass,f=e.pinnedClass;d&&q.push(d),f&&q.push(f)}),q.forEach(function(b){["left","top","right","bottom"].forEach(function(a){q.push(b+"-"+a)})});var k=[],h=aK({},A),F=aK({},this.attachment);return this.options.constraints.forEach(function(n){var m=n.to,i=n.attachment,g=n.pin;"undefined"==typeof i&&(i="");var e=void 0,d=void 0;if(i.indexOf(" ")>=0){var c=i.split(" "),b=am(c,2);d=b[0],e=b[1]}else{e=d=i}var s=ay(D,m);"target"!==d&&"both"!==d||(C<s[1]&&"top"===h.top&&(C+=u,h.top="bottom"),C+y>s[3]&&"bottom"===h.top&&(C-=u,h.top="top")),"together"===d&&("top"===h.top&&("bottom"===F.top&&C<s[1]?(C+=u,h.top="bottom",C+=y,F.top="top"):"top"===F.top&&C+y>s[3]&&C-(y-u)>=s[1]&&(C-=y-u,h.top="bottom",F.top="bottom")),"bottom"===h.top&&("top"===F.top&&C+y>s[3]?(C-=u,h.top="top",C-=y,F.top="bottom"):"bottom"===F.top&&C<s[1]&&C+(2*y-u)<=s[3]&&(C+=y-u,h.top="top",F.top="top")),"middle"===h.top&&(C+y>s[3]&&"top"===F.top?(C-=y,F.top="bottom"):C<s[1]&&"bottom"===F.top&&(C+=y,F.top="top"))),"target"!==e&&"both"!==e||(B<s[0]&&"left"===h.left&&(B+=t,h.left="right"),B+x>s[2]&&"right"===h.left&&(B-=t,h.left="left")),"together"===e&&(B<s[0]&&"left"===h.left?"right"===F.left?(B+=t,h.left="right",B+=x,F.left="left"):"left"===F.left&&(B+=t,h.left="right",B-=x,F.left="right"):B+x>s[2]&&"right"===h.left?"left"===F.left?(B-=t,h.left="left",B-=x,F.left="right"):"right"===F.left&&(B-=t,h.left="left",B+=x,F.left="left"):"center"===h.left&&(B+x>s[2]&&"left"===F.left?(B-=x,F.left="right"):B<s[0]&&"right"===F.left&&(B+=x,F.left="left"))),"element"!==d&&"both"!==d||(C<s[1]&&"bottom"===F.top&&(C+=y,F.top="top"),C+y>s[3]&&"top"===F.top&&(C-=y,F.top="bottom")),"element"!==e&&"both"!==e||(B<s[0]&&("right"===F.left?(B+=x,F.left="left"):"center"===F.left&&(B+=x/2,F.left="left")),B+x>s[2]&&("left"===F.left?(B-=x,F.left="right"):"center"===F.left&&(B-=x/2,F.left="right"))),"string"==typeof g?g=g.split(",").map(function(f){return f.trim()}):g===!0&&(g=["top","left","right","bottom"]),g=g||[];var r=[],p=[];C<s[1]&&(g.indexOf("top")>=0?(C=s[1],r.push("top")):p.push("top")),C+y>s[3]&&(g.indexOf("bottom")>=0?(C=s[3]-y,r.push("bottom")):p.push("bottom")),B<s[0]&&(g.indexOf("left")>=0?(B=s[0],r.push("left")):p.push("left")),B+x>s[2]&&(g.indexOf("right")>=0?(B=s[2]-x,r.push("right")):p.push("right")),r.length&&!function(){var f=void 0;f="undefined"!=typeof D.options.pinnedClass?D.options.pinnedClass:D.getClass("pinned"),k.push(f),r.forEach(function(a){k.push(f+"-"+a)})}(),p.length&&!function(){var f=void 0;f="undefined"!=typeof D.options.outOfBoundsClass?D.options.outOfBoundsClass:D.getClass("out-of-bounds"),k.push(f),p.forEach(function(a){k.push(f+"-"+a)})}(),(r.indexOf("left")>=0||r.indexOf("right")>=0)&&(F.left=h.left=!1),(r.indexOf("top")>=0||r.indexOf("bottom")>=0)&&(F.top=h.top=!1),h.top===A.top&&h.left===A.left&&F.top===D.attachment.top&&F.left===D.attachment.left||(D.updateAttachClasses(F,h),D.trigger("update",{attachment:F,targetAttachment:h}))}),ap(function(){D.options.addTargetClasses!==!1&&aE(D.target,k,q),aE(D.element,k,q)}),{top:C,left:B}}});var ak=aw.Utils,aN=ak.getBounds,aE=ak.updateClasses,ap=ak.defer;aw.modules.push({position:function(B){var A=this,z=B.top,y=B.left,x=this.cache("element-bounds",function(){return aN(A.element)}),w=x.height,v=x.width,u=this.getTargetBounds(),t=z+w,s=y+v,r=[];z<=u.bottom&&t>=u.top&&["left","right"].forEach(function(d){var c=u[d];c!==y&&c!==s||r.push(d)}),y<=u.right&&s>=u.left&&["top","bottom"].forEach(function(d){var c=u[d];c!==z&&c!==t||r.push(d)});var q=[],p=[],h=["left","top","right","bottom"];return q.push(this.getClass("abutted")),h.forEach(function(b){q.push(A.getClass("abutted")+"-"+b)}),r.length&&p.push(this.getClass("abutted")),r.forEach(function(b){p.push(A.getClass("abutted")+"-"+b)}),ap(function(){A.options.addTargetClasses!==!1&&aE(A.target,p,q),aE(A.element,p,q)}),!0}});var am=function(){function b(r,q){var p=[],o=!0,n=!1,m=void 0;try{for(var l,k=r[Symbol.iterator]();!(o=(l=k.next()).done)&&(p.push(l.value),!q||p.length!==q);o=!0){}}catch(j){n=!0,m=j}finally{try{!o&&k["return"]&&k["return"]()}finally{if(n){throw m}}}return p}return function(a,d){if(Array.isArray(a)){return a}if(Symbol.iterator in Object(a)){return b(a,d)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return aw.modules.push({position:function(j){var i=j.top,p=j.left;if(this.options.shift){var o=this.options.shift;"function"==typeof this.options.shift&&(o=this.options.shift.call(this,{top:i,left:p}));var n=void 0,m=void 0;if("string"==typeof o){o=o.split(" "),o[1]=o[1]||o[0];var l=o,k=am(l,2);n=k[0],m=k[1],n=parseFloat(n,10),m=parseFloat(m,10)}else{n=o.top,m=o.left}return i+=n,p+=m,{top:i,left:p}}}}),Y});